<!DOCTYPE html>
<html lang="en" ng-app="atis.module">
<head>
    <meta charset="UTF-8">
    <title>Coding Examples</title>
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="atis-vbar.css"/>
    <style>
        .main-content-wrapper {
            position: fixed;
            left: 300px;
            right: 0;
            top: 0;
            bottom: 0;
        }

        ul  {
            list-style: none;
        }
    </style>
</head>
<body ng-controller="MainController as main">
    <div atis-vbar="testHbar" default="home" animate="true">
        <div vbar-card="home">
            <div vbar-section="Home">
                <div vbar-link="preferences" animate="true" arrow="right">Preferences</div>
                <div vbar-link="tools" animate="true" arrow="right">Tools</div>
                <div vbar-item="logout">Logout</div>
            </div>
        </div>

        <div vbar-card="preferences">
            <div vbar-section="Preferences">
                <div vbar-back="" vbar-link="home" animate="true"></div>
            </div>
        </div>

        <div vbar-card="tools">
            <div vbar-section="Tools">
                <div vbar-back="" vbar-link="home" animate="true"></div>
                <div vbar-link="submenu1" animate="true" arrow="right">Submenu 1</div>
            </div>
        </div>

        <div vbar-card="submenu1">
            <div vbar-section="Sub Menu 1">
                <div vbar-back="" vbar-link="tools" animate="true"></div>
                <div vbar-link="submenu2" animate="true" arrow="right">Sub Menu 2</div>
            </div>
        </div>

        <div vbar-card="submenu2">
            <div vbar-section="Sub Menu 2">
                <div vbar-back="" vbar-link="submenu1" animate="true"></div>
                <div vbar-link="submenu3" animate="true" arrow="right">Sub Menu 3</div>
            </div>
        </div>

        <div vbar-card="submenu3">
            <div vbar-section="Sub Menu 3">
                <div vbar-back="" vbar-link="submenu2" animate="true"></div>
                <div vbar-link="submenu4" animate="true" arrow="right">Sub Menu 4</div>
            </div>
        </div>

        <div vbar-card="submenu4">
            <div vbar-section="Sub Menu 4">
                <div vbar-back="" vbar-link="submenu3" animate="true"></div>
            </div>
        </div>
    </div>
    <div class="main-content-wrapper">
        <button ng-click="main.toggleMenu();">Toggle Menu</button>
        <div id="block1" class="block">Some random text</div>
        <ul>
            <li>
                <label>Bleh 1</label>
                <div>Some random text 1</div>
            </li>
            <li>
                <label>Bleh 2</label>
                <div>Some random text 2</div>
            </li>
            <li>
                <label>Bleh 3</label>
                <div>Some random text 3</div>
            </li>
            <li>
                <label>Bleh 4</label>
                <div>Some random text 4</div>
            </li>
            <li>
                <label>Bleh 5</label>
                <div>Some random text 5</div>
            </li>
            <li>
                <label>Bleh 6</label>
                <div>Some random text 6</div>
            </li>
            <li>
                <label>Bleh 7</label>
                <div>Some random text 7</div>
            </li>
            <li>
                <label>Bleh 8</label>
                <div>Some random text 8</div>
            </li>
            <li>
                <label>Bleh 9</label>
                <div>Some random text 9</div>
            </li>
            <li>
                <label>Bleh 10</label>
                <div>Some random text 10</div>
            </li>
        </ul>
    </div>

    <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="bower_components/angular/angular.min.js"></script>
    <script type="text/javascript" src="Transition.js"></script>
    <script type="text/javascript" src="TransitionAnimations.js"></script>
    <script type="text/javascript">
        angular.module('atis.module', [])
                .controller('MainController', function(VbarService) {
                    var main = this;

                    main.toggleMenu = toggleMenu;

                    var transition = Transition(document.getElementById('block1'));
                    transition.duration(250).timingFunction('ease-out').animations().reveal(0);

                    var lis = document.querySelectorAll('li>label');
                    var divs = document.querySelectorAll('li>div');

                    Transition.stagger(divs, 150, 50, 500, 'ease', -100, 0, 0)
                    Transition.stagger(lis, 0, 50, 300, 'ease', -100, 0, 0);

                    function toggleMenu() {
                        var menu = VbarService.get('testHbar'),
                            wrapper = Transition(document.querySelector('.main-content-wrapper')),
                            endPoint = menu.isOpen ? -300 : 0;

                        wrapper.duration(300).timingFunction('ease-out').move(endPoint, 0, 0);
                        menu.toggle(300);
                    }
                });
    </script>
    <script type="text/javascript" src="atis-vbar-service.js"></script>
    <script type="text/javascript" src="atis-vbar.js"></script>
</body>
</html>